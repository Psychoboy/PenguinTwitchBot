@inject NavigationManager Navigation
<MudNavMenu>
<CascadingAuthenticationState>  
    
    <MudNavLink Icon="@Icons.Material.Filled.Home" Href="/" Match="NavLinkMatch.All">Home</MudNavLink>
    <AuthorizeView Roles="Streamer">
        <Authorized>
                
                    
                    <MudNavLink Href="/raidhistory" Match="NavLinkMatch.Prefix">Raid History</MudNavLink>
                    <MudNavGroup Title="Commands" Expanded="false">
                        <MudNavLink Href="/defaultcommands" Match="NavLinkMatch.Prefix">Default Commands</MudNavLink>
                        <MudNavLink Href="/customcommands" Match="NavLinkMatch.Prefix">Custom Commands</MudNavLink>
                        <MudNavLink Href="/audiocommands" Match="NavLinkMatch.Prefix">Audio Commands</MudNavLink>
                        <MudNavLink Href="/keywords" Match="NavLinkMatch.Prefix">Keywords</MudNavLink>
                        <MudNavLink Href="/aliases" Match="NavLinkMatch.Prefix">Aliases</MudNavLink>
                        <MudNavLink Href="/command-cooldowns" Match="NavLinkMatch.Prefix">Current Cooldowns</MudNavLink>
                        <MudNavLink Href="/redeems" Match="NavLinkMatch.Prefix">Channel Points</MudNavLink>
                        <MudNavLink Href="/events" Match="NavLinkMatch.Prefix">Twitch Events</MudNavLink>
                        <MudNavLink Href="/externalcommands" Match="NavLinkMatch.Prefix">External Commands</MudNavLink>
                    </MudNavGroup>
                    <MudNavGroup Title="Giveaways" Expanded="false">
                        <MudNavLink Href="/giveaway" Match="NavLinkMatch.Prefix">Giveaway</MudNavLink>
                    <MudNavLink Href="/wheelspin" Match="NavLinkMatch.Prefix">Wheel Spin</MudNavLink>
                        <MudNavLink Href="/giveawaysettings" Match="NavLinkMatch.Prefix">Giveaway Settings</MudNavLink>
                        <MudNavLink Href="/giveawayhistory" Match="NavLinkMatch.Prefix">History</MudNavLink>
                    </MudNavGroup>
                    <MudNavGroup Title="Viewers/Bots" Expanded="false">
                    <MudNavLink Icon="@Icons.Material.Filled.People" Href="/viewers" Match="NavLinkMatch.Prefix">Viewers</MudNavLink>
                    <MudNavLink  Href="/autoshoutouts" Match="NavLinkMatch.Prefix">Auto Shoutouts</MudNavLink>
                    <MudNavLink Icon="@Icons.Material.Filled.FmdBad" Href="/knownbots" Match="NavLinkMatch.Prefix">Known Bots</MudNavLink>
                    <MudNavLink Icon="@Icons.Material.Filled.FmdBad" Href="/giveawaybots" Match="NavLinkMatch.Prefix">G Exclusions</MudNavLink>
                    </MudNavGroup>
                    <MudNavGroup Title="Music" Expanded="false">
                        <MudNavLink Href="/musicplayer" Match="NavLinkMatch.Prefix" Target="_blank">Music Player</MudNavLink>
                        <MudNavLink Href="/playlists" Match="NavLinkMatch.Prefix">Play Lists</MudNavLink>
                    </MudNavGroup>
                    <MudNavGroup Title="Games & Points Settings">
                        <MudNavLink Icon="@Icons.Material.Filled.Money" Href="/pointsettings" Match="NavLinkMatch.Prefix">Points</MudNavLink>
                        <MudNavLink Icon="@Icons.Material.Filled.Games" Href="/gamesettings" Match="NavLinkMatch.Prefix">Game</MudNavLink>
                    </MudNavGroup>
                    <MudNavGroup Title="Settings" Expanded="false">
                        <MudNavLink Icon="@Icons.Material.Filled.Security" Href="/botauth" Match="NavLinkMatch.Prefix">Bot Auth</MudNavLink>
                        <MudNavLink Icon="@Icons.Material.Filled.Loyalty" Href="/loyaltysettings" Match="NavLinkMatch.Prefix">Loyalty</MudNavLink>
                        <MudNavLink Icon="@Icons.Material.Filled.RecordVoiceOver" Href="/voices" Match="NavLinkMatch.Prefix">Voices</MudNavLink>
                    </MudNavGroup>
                    <MudNavGroup Title="Tools" Expanded="false">
                        <MudNavLink Icon="@Icons.Material.Filled.Build" Href="/tools" Match="NavLinkMatch.Prefix">Quick Actions</MudNavLink>
                        <MudNavLink Icon="@Icons.Material.Filled.Build" Href="/backups" Match="NavLinkMatch.Prefix">Backups</MudNavLink>
                    </MudNavGroup>
                    <MudNavLink Href="/timergroups" Match="NavLinkMatch.Prefix">Timers</MudNavLink>
                    <MudNavLink Href="/blacklist" Match="NavLinkMatch.Prefix">Blacklist</MudNavLink>
                <MudNavLink Icon="@Icons.Material.Filled.ConnectWithoutContact" Href="/connectedviewers" Match="NavLinkMatch.Prefix">Current Users</MudNavLink>
                    
        </Authorized>
        <NotAuthorized>
            
        </NotAuthorized>
    </AuthorizeView>
    <AuthorizeView Roles="Streamer, Moderator">
        <Authorized>
                <MudNavGroup Icon="@Icons.Material.Filled.Shield" Title="Moderator" Expanded="false">
                    <MudNavLink Icon="@Icons.Material.Filled.People" Href="/viewers" Match="NavLinkMatch.Prefix">Viewers</MudNavLink>
                    <MudNavLink Icon="@Icons.Material.Filled.FmdBad" Href="/knownbots" Match="NavLinkMatch.Prefix">Known Bots</MudNavLink>
                    <MudNavLink Icon="@Icons.Material.Filled.ConnectWithoutContact" Href="/connectedviewers" Match="NavLinkMatch.Prefix">Current Users</MudNavLink>
                </MudNavGroup>
        </Authorized>
        <NotAuthorized>

        </NotAuthorized>
    </AuthorizeView>
    <MudNavLink Href="/commands" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.SystemSecurityUpdateWarning">Commands</MudNavLink>
    <MudNavLink Href="/viewergiveaway" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.NewReleases">Giveaway</MudNavLink>
    <MudNavLink Href="/quotes" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.FormatQuote">Quotes</MudNavLink>
    <MudNavLink Href="/songrequests" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.QueueMusic">Song Requests</MudNavLink>
    <MudNavLink Href="/leaderboards" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Leaderboard">Leaderboards</MudNavLink>
    <AuthorizeView>
        <Authorized>
            <MudNavLink Href="/signout" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Logout">Log Out</MudNavLink>
        </Authorized>
        <NotAuthorized>
            <MudNavLink OnClick="Signin" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Login">Login</MudNavLink>
    </NotAuthorized>
    </AuthorizeView>

</CascadingAuthenticationState>
<MudNavLink Href="https://forms.gle/1xbqeJb43HiaZqEF7" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Feedback" Target="_blank">Feedback</MudNavLink>
</MudNavMenu>

@code {
    private void Signin()
    {
        Navigation.NavigateTo("/signin?r=" + new Uri(Navigation.Uri).AbsoluteUri, true);
    }
}
